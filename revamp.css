:root {
     --page-max: 1200px;
     --page-pad: clamp(16px, 3vw, 64px);
     --section-gap: clamp(24px, 5vw, 72px);
     --nav-height: 56px;
    --nav-top: clamp(16px, 2.5vw, 32px);
    --nav-offset: calc(var(--nav-top) + var(--nav-height));
}
 
@media (min-width: 480px) {
     :root {
         --page-max: 1280px;
     }
}
 
@media (min-width: 768px) {
    :root {
        --page-max: 1400px;
    }
}
 
@media (min-width: 1024px) {
    :root {
        --page-max: 1600px;
        --nav-height: 60px;
    }
}
 
@media (min-width: 1440px) {
     :root {
         --page-max: 1750px;
         --nav-height: 64px;
     }
}
 
@media (min-width: 1920px) {
    :root {
        --page-max: 2100px;
        --nav-height: 72px;
        --section-gap: clamp(32px, 4vw, 96px);
    }
}
 
*, *::before, *::after {
     box-sizing: border-box;
}
 
html {
     font-size: clamp(15px, 0.6vw + 12px, 20px);
}
 
body, html {
     margin: 0;
     padding: 0;
     width: 100%;
     min-height: 100%;
     background: #111;
     color: #fff;
     overflow-x: hidden;
}
 
body {
    min-height: 100dvh;
}

#app-root {
    min-height: 100dvh;
    opacity: 0;
    transition: opacity 0.8s ease;
}

body.app-ready #app-root {
    opacity: 1;
}

#app-loader {
    position: fixed;
    inset: 0;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 1;
    transition: opacity 0.8s ease;
}

#app-loader .loader-spinner {
    width: 32px;
    height: 32px;
    position: relative;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

#app-loader .loader-spinner::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 3px solid rgba(255, 255, 255, 0.2);
    border-top-color: #fff;
    animation: spin 0.9s linear infinite;
}

body.app-ready #app-loader {
    opacity: 0;
    pointer-events: none;
}

body.app-ready #app-loader .loader-spinner {
    transform: scale(1.15);
    opacity: 0;
}

body.no-scroll {
    overflow: hidden;
    height: 100dvh;
    overscroll-behavior: none;
}

body.modal-open {
    overflow: hidden;
}
 
img, video {
     max-width: 100%;
     height: auto;
     display: block;
}
 
canvas {
     max-width: 100%;
     height: auto;
}
 
:focus-visible {
     outline: 2px solid #fff;
     outline-offset: 2px;
}
 
/* Page shadows (Vignette) */
body::before {
     content: '';
     position: fixed;
     top: 0;
     left: 0;
     width: 100%;
     height: clamp(80px, 14vh, 160px);
     z-index: 5;
     pointer-events: none;
     background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
     opacity: 0;
     transition: opacity 0.3s ease;
}
 
body.scrolled::before {
     opacity: 1;
}
 
body::after {
     content: '';
     position: fixed;
     bottom: 0;
     left: 0;
     width: 100%;
     height: clamp(80px, 14vh, 160px);
     z-index: 5;
     pointer-events: none;
     background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
}
 
#background-container {
     position: fixed;
     inset: 0;
     width: 100%;
     height: 100%;
     z-index: 0;
}
 
.view-section {
     min-height: 100svh;
     min-height: 100dvh;
     width: 100%;
     position: relative;
     z-index: 1;
     padding-top: calc(var(--nav-offset) + env(safe-area-inset-top));
     padding-left: calc(var(--page-pad) + env(safe-area-inset-left));
     padding-right: calc(var(--page-pad) + env(safe-area-inset-right));
     padding-bottom: calc(var(--section-gap) + env(safe-area-inset-bottom));
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    box-sizing: border-box;
}

#home-view {
    display: grid;
    grid-template-rows: minmax(0, 1fr) auto minmax(0, 1fr);
    align-items: center;
    justify-items: center;
    height: 100dvh;
    min-height: 100dvh;
    overflow: hidden;
    padding-top: calc(var(--nav-offset) + clamp(8px, 3vh, 24px));
    padding-bottom: calc(var(--nav-offset) + clamp(12px, 4vh, 28px));
    text-align: center;
    transform: none;
}

#home-view .content {
    grid-row: 2;
}

.content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: clamp(8px, 2vh, 20px);
    width: 100%;
    max-width: min(var(--page-max), 100%);
    pointer-events: none;
}
 
.content h1 {
     text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
     filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.5));
     color: rgb(255, 255, 255);
     font-size: clamp(2rem, 6vw, 5rem);
     margin: 0 0 clamp(0.5rem, 2vw, 1.5rem);
     font-weight: 300;
     letter-spacing: clamp(1px, 0.3vw, 3px);
     text-transform: uppercase;
     mix-blend-mode: difference;
}
 
.links-container {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    grid-auto-flow: column;
    gap: clamp(12px, 3vw, 32px);
    pointer-events: auto;
    align-items: center;
    justify-items: center;
    width: min(520px, 100%);
    margin: 0 auto;
}
 
.social-link {
    display: flex;
    width: clamp(52px, 9vw, 96px);
    height: clamp(52px, 9vw, 96px);
    min-width: 44px;
    min-height: 44px;
    align-items: center;
    justify-content: center;
    transition: opacity 0.3s ease;
    cursor: none;
}
 
.social-link img {
     filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.5));
     width: 100%;
     height: 100%;
     object-fit: contain;
     transform: scale(1.15);
}
 
.fanart-container {
     max-width: min(var(--page-max), 100%);
     margin: 0 auto;
     width: 100%;
     padding-bottom: clamp(120px, 12vw, 220px);
}
 
.fanart-title {
     text-align: center;
     color: white;
     margin: clamp(1.5rem, 4vh, 3rem) 0;
     font-weight: 600;
     font-size: clamp(1.5rem, 3vw, 2.4rem);
     text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}
 
#music-control-container {
     position: fixed;
     bottom: calc(1rem + env(safe-area-inset-bottom));
     right: calc(1rem + env(safe-area-inset-right));
     z-index: 100;
     padding: 10px;
     display: flex;
     flex-direction: column;
     align-items: center;
     gap: 8px;
     max-width: min(90vw, 18rem);
}
 
.track-title {
     color: white;
     font-family: sans-serif;
     font-size: clamp(0.75rem, 1.5vw, 0.95rem);
     font-weight: 500;
     text-shadow: 0 1px 3px rgba(0,0,0,0.5);
     letter-spacing: 0.5px;
     text-align: center;
}
 
#curved-loop-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: calc(var(--nav-offset) + clamp(8px, 6vh, 72px));
}
 
#curved-loop-container svg {
    pointer-events: auto;
    transform-origin: top center;
}
 
#scrambled-text-container {
    margin: 0 auto;
    max-width: min(60ch, 100%);
    text-align: center;
    color: #ffffff;
    font-family: monospace;
    font-size: clamp(0.95rem, 1.2vw, 1.2rem);
    line-height: 1.6;
    pointer-events: auto;
    padding: 1rem;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    word-break: normal;
    overflow-wrap: normal;
    hyphens: none;
}
 
#scrambled-text-container span {
     display: inline-block;
     transition: color 0.1s;
     cursor: default;
}
 
.view-youtube {
    align-items: center;
    justify-content: center;
    height: 100dvh;
    min-height: 100dvh;
    overflow: hidden;
    padding-bottom: 0;
}

.youtube-view-inner {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(12px, 3vw, 24px) 0;
    transform: translateY(-100px);
}
 
#card-swap-container {
     max-width: 100%;
}
 
#fanart-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 1000;
    background: rgba(0,0,0,0.8);
    align-items: center;
    justify-content: center;
    opacity: 0;
    cursor: pointer;
    padding: calc(16px + env(safe-area-inset-top)) calc(16px + env(safe-area-inset-right)) calc(16px + env(safe-area-inset-bottom)) calc(16px + env(safe-area-inset-left));
    overflow: auto;
    overscroll-behavior: contain;
}

#decay-card-container {
    width: min(90vw, 560px);
    aspect-ratio: 4 / 5;
    height: auto;
    max-height: min(90vh, 760px);
    pointer-events: none;
    position: relative;
}

.lanyard-loading {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    color: #fff;
    text-shadow: 0 2px 6px rgba(0,0,0,0.6);
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: none;
    z-index: 2;
}

.lanyard-loading.is-active {
    opacity: 1;
}

.lanyard-loading-text {
    font-size: clamp(0.95rem, 2vw, 1.1rem);
    font-weight: 600;
    letter-spacing: 0.3px;
}

.lanyard-loading-spinner {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.25);
    border-top-color: #fff;
    animation: spin 0.9s linear infinite;
}
 
/* --- Curved Loop Styles --- */
.curved-loop-jacket {
   min-height: 100svh;
   min-height: 100dvh;
   display: flex;
   align-items: center;
   justify-content: center;
   width: 100%;
}
 
.curved-loop-svg {
  user-select: none;
  width: 100%;
  aspect-ratio: 100 / 12;
  overflow: visible;
  display: block;
  font-size: var(--loop-font-size);
   fill: #ffffff;
   -moz-user-select: none;
   -webkit-user-select: none;
   font-weight: 700;
   text-transform: uppercase;
   line-height: 1;
  transform: translateY(calc(clamp(24px, 8vh, 120px) - 100px));
  text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.5));
  max-width: min(1200px, 100%);
  line-height: 1;
  will-change: transform;

  --loop-spread: 3000;
  --loop-curve-height: 420;
  --loop-font-size: clamp(56px, 8vw, 140px);
  --loop-text-spacing: 2px;
}


body.is-phone #curved-loop-container {
    padding-top: clamp(4px, 4vh, 32px);
}

body.is-phone .curved-loop-svg {
    --loop-font-size: clamp(192px, 52vw, 400px);
    transform: translateY(clamp(8px, 6vh, 40px));
}
 
.responsive-debug {
     position: fixed;
     left: 12px;
     bottom: 12px;
     z-index: 9999;
     background: rgba(0, 0, 0, 0.75);
     color: #fff;
     padding: 8px 10px;
     border-radius: 8px;
     font-family: monospace;
     font-size: 12px;
     letter-spacing: 0.2px;
     display: none;
     pointer-events: none;
}
 
.responsive-debug.is-visible {
    display: block;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

table {
    width: 100%;
    border-collapse: collapse;
}

@media (max-width: 768px) {
    table {
        display: block;
        overflow-x: auto;
    }

    table th,
    table td {
        white-space: nowrap;
    }
}

@media (min-width: 768px) {
    .curved-loop-svg {
        --loop-spread: 3600;
        --loop-curve-height: 460;
    }
}

@media (min-width: 1024px) {
    .curved-loop-svg {
        --loop-spread: 4000;
        --loop-curve-height: 520;
    }
}

@media (min-width: 1920px) {
    .curved-loop-svg {
        --loop-font-size: clamp(72px, 6vw, 180px);
    }
}

@media (max-width: 480px) {
    #music-control-container {
        left: 50%;
        right: auto;
         transform: translateX(-50%);
         width: min(90vw, 20rem);
     }
}
 
@media (orientation: landscape) and (max-height: 500px) {
     #home-view {
         padding-top: calc(var(--nav-offset) + clamp(12px, 6vh, 64px));
     }
}
